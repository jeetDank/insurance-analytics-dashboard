<!-- <div class="fs-2 text-dark">Dashboard</div> -->
<div class="fs-4 text-dark mt-3 mb-3">Compare Multiple Companies</div>

<form class="">
  <div class="row pb-3">
    <div class="col-sm-12 col-lg-4 d-flex flex-column">
      <label class="mb-2" for="">Select Company [2-5]</label>
      <p-multiselect
        appendTo="body"
        [options]="companies"
        optionLabel="name"
        placeholder="Select Companies"
        [maxSelectedLabels]="3"
        styleClass="w-full md:w-80"
      />
    </div>

    <div class="col-sm-12 col-lg-4 d-flex flex-column">
      <label class="mb-2" for="">Select Metrics</label>
      <p-multiselect
        appendTo="body"
        optionLabel="name"
        placeholder="Select Metrics"
        [maxSelectedLabels]="3"
        styleClass="w-full md:w-80"
      />
    </div>
    <div class="col-sm-12 col-lg-4 d-flex flex-column">
      <label class="mb-2" for="">Select Period</label>
      <p-select
        appendTo="body"
        formControlName="selectedCity"
        [options]=""
        optionLabel="name"
        placeholder="Select"
        class="w-full md:w-56"
      />
    </div>
    <div class="col-sm-12 col-lg-4 d-flex flex-column mt-2">
      <label class="mb-2" for="">Select Year</label>
      <p-select
        appendTo="body"
        formControlName="selectedCity"
        [options]=""
        optionLabel="name"
        placeholder="Select"
        class="w-full md:w-56"
      />
    </div>
    <div class="col-sm-12 mt-3">
      <p-button
        [loading]="skeletonVisible"
        [raised]="true"
        label="Compare Companies"
        variant="outlined"
        styleClass="text-dark"
        severity="secondary"
      />
    </div>
  </div>

  <ng-container *ngIf="skeletonVisible == false">
    <div>
      <div style="height: 400px">
        <app-echarts
          [options]="treemapOption"
          (chartInit)="onChartInit($event)"
        ></app-echarts>
      </div>
      <p-button (click)="update()" [raised]="true" styleClass="text-dark" severity="secondary" >Update Data</p-button>
    </div>

    <div>
      <div style="height: 400px">
        <app-echarts
          [options]="chartOptions"
          (chartInit)="onChartInit($event)"
        ></app-echarts>
      </div>
      <p-button [raised]="true" severity="secondary" styleClass="text-dark"  (click)="update()">Update Data</p-button>
    </div>

    <div class="mt-3">
      <p-message severity="success">
        <app-icon name="CheckCircle"></app-icon>
        Comparison completed for 3 companies</p-message
      >
    </div>

    <div>
      <app-table
        [sectionHeader]="'Aflac Inc Performance (Q1 2024)'"
      ></app-table>
    </div>

    <div>
      <app-insights></app-insights>
    </div>
    <div>
      <app-accordian></app-accordian>
    </div>

    <div class="mt-3">
      <p-message> Full CoT log available in export</p-message>
    </div>

    <div class="mt-3">
      <p-button
        [loading]="skeletonVisible"
        [raised]="true"
        label="Download Excel (With Cot)"
        variant="outlined"
        styleClass="text-dark"
        severity="secondary"
      />
    </div>
  </ng-container>
</form>

<app-card-skeleton *ngIf="skeletonVisible == true"></app-card-skeleton>
